function [modulatedBitStream] = HSPM(bitStream, T, sn, A1) %Half Sine Pulse Modulation
    Ts = T/sn; %Every bit has for example 1 sec duration and 32 samples.
    t = 0:Ts:T*length(bitStream);
    
    pulse = 0:Ts:1 - Ts;
     
    for k = 1 : length(bitStream)
        if bitStream(k) == 1
            modulatedBitStream(t((k-1)*T +1 : k*T)) =  A1*sin(pi*t/T);
        else
            modulatedBitStream((k-1)*T +1 : k*T) =  -A1*sin(pi*t/T);
        end
    end

end